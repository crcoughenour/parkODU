<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">
<head>
    <!-- Head -->
    <!--/*/ <th:block th:include="fragments/fragment :: head" /> /*/-->
</head>
<body>

<!-- Navigation Bar -->
<!--/*/ <th:block th:include="fragments/fragment :: navigation-bar" /> /*/-->

<div class="container-fluid main-container" id="main">
    <div class="row">
        <div class="parkodu-container col-xs-10 col-xs-offset-1 col-sm-10 col-sm-offset-1 col-md-4 col-md-offset-4">
            <h1 class="text-center main-header">Select a Garage and Date</h1>
            <hr/>
            <div class="text-center" style="padding: 10px">
                <label for="garage" class="control-label">Garage</label>
                <select id="garage" style="width:100%">
                    <option th:each="garage : ${garages}"
                            th:text="${garage.name}"
                            th:value="${garage.garageKey}"
                            >
                    </option>
                </select>
            </div>
            <div class="text-center" style="padding:10px">
                <label for="floorNumber" class="control-label">Floor Number</label>
                <input id="floorNumber" type="text" name="floorNumber" style="width:100%"></input>
            </div>
            <div class="text-center" style="padding: 10px">
                <label for="date" class="control-label">Date</label>
                <input id="date"  type="date" name="date" style="width:100%"></input>
            </div>

            <button  id="create" type="button" class="btn btn-primary" style="width:100%">Create</button>

        </div>
    </div>

    <div id="chart" class="parkodu-container col-xs-10 col-xs-offset-1 col-sm-10 col-sm-offset-1 col-md-8 col-md-offset-2"></div>
</div>

<!-- Scripts -->
<!--/*/ <th:block th:include="fragments/fragment :: scripts" /> /*/-->

<!-- Chart.js Scripts -->
<!--/*/ <th:block th:include="fragments/fragment :: chart-js-scripts" /> /*/-->

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

<!--<script>
$(document).ready(function(){
    $("#floorNumber").change(function(){
        var date = document.getElementById("floorNumber").value;
        alert(date);
    });
});
</script> -->
<script>
/*<![CDATA[*/

$(document).ready(function(){
    $(".btn").click(function(){
        //var div = document.createElement('div');
        //div.className = "parkodu-container col-xs-10 col-xs-offset-1 col-sm-10 col-sm-offset-1 col-md-8 col-md-offset-2";
        //document.getElementById("main").appendChild(div);
        var garageKey = document.getElementById("garage").value;
        var floorNumber = document.getElementById("floorNumber").value;
        var date = document.getElementById("date").value;
        //div.id = "chart" + garageKey + floorNumber
        var urlString = "charts/chart/" + garageKey + '/' + floorNumber + '/' + date;
        $("#chart").load(urlString);
    });
});

/*]]>*/

</script>

</body>
</html>